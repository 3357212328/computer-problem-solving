如果你要从 **C8T6**（中容量/MD）切换到 **RCT6** 或 **VET6**（大容量/HD），主要需要修改三个地方：**EIDE 芯片选型**、**宏定义**、以及**启动文件与链接脚本**。

以下是具体的迁移步骤：

### 1. 修改 EIDE 芯片选型
1.  打开 EIDE 面板。
2.  点击 **芯片支持包 (Chip Support Package)** 里的芯片图标。
3.  在搜索框输入你的新型号：
    *   如果是 RCT6，搜索并选择 `STM32F103RC`。
    *   如果是 VET6，搜索并选择 `STM32F103VE`。
4.  EIDE 会自动更新一些内部参数（比如默认的烧录地址等）。

---

### 2. 修改预处理宏 (Preprocessor Macros)
因为 RCT6/VET6 属于“大容量”设备（High Density），驱动库需要知道这一点。

1.  打开 EIDE 的 **构建配置 (Builder Configurations)** -> **全局宏定义**。
2.  将原来的 `STM32F10X_MD` **删除**。
3.  添加新宏：**`STM32F10X_HD`**。
    *   *注意：一定要删掉 MD，否则库函数的寄存器定义会出错。*

---

### 3. 更换启动文件 (.s 文件)
MD 和 HD 的中断向量表长度不同，必须更换启动文件。

1.  在你的项目 `Core` 文件夹中：
    *   **删除**（或从 EIDE 项目资源中移除）`startup_stm32f10x_md.s`。
2.  从标准库中找到大容量的启动文件：
    *   路径：`Libraries\CMSIS\CM3\DeviceSupport\ST\STM32F10x\startup\gcc_ride7\`（或者是你之前放启动文件的地方）。
    *   复制 **`startup_stm32f10x_hd.s`** 到你的 `Core` 文件夹。
3.  在 EIDE 项目资源中，右键点击 `Core` 文件夹 -> `添加文件`，把这个新的 `startup_stm32f10x_hd.s` 加进来。

---

### 4. 修改链接脚本 (.ld 文件)
这是最关键的一步，因为 RCT6 和 VET6 的内存大小比 C8T6 大得多。你需要修改之前创建的 `stm32_flash.ld`。

**打开 `stm32_flash.ld`，修改 `MEMORY` 部分：**

#### 如果是 RCT6 (256K Flash, 48K RAM):
```c
/* RCT6 的配置 */
MEMORY
{
  RAM (xrw)      : ORIGIN = 0x20000000, LENGTH = 48K
  FLASH (rx)     : ORIGIN = 0x08000000, LENGTH = 256K
}
_estack = 0x2000C000;    /* 48K RAM 的末尾地址 (0x20000000 + 48*1024) */
```

#### 如果是 VET6 (512K Flash, 64K RAM):
```c
/* VET6 的配置 */
MEMORY
{
  RAM (xrw)      : ORIGIN = 0x20000000, LENGTH = 64K
  FLASH (rx)     : ORIGIN = 0x08000000, LENGTH = 512K
}
_estack = 0x20010000;    /* 64K RAM 的末尾地址 (0x20000000 + 64*1024) */
```

**重点：**
*   修改了 `LENGTH`。
*   同时修改了 **`_estack`** 的值（它代表栈顶，必须指向 RAM 的结束地址）。

---

### 5. 重新编译
点击 **🔨 (Build)**。

你现在应该能看到资源占用统计变成了新的大小：
```text
Memory region         Used Size  Region Size  %age Used
             RAM:        xxxx B        48 KB      x.xx%  (对于RCT6)
           FLASH:        xxxx B       256 KB      x.xx%
```

### 进阶提示：RCC 时钟
RCT6/VET6 和 C8T6 的主频通常都是 72MHz，所以你的 `delay.c` 代码**不需要修改**。只要 `system_stm32f10x.c` 里定义的外部晶振（HSE_VALUE）和板子上的实际晶振一致（通常都是 8MHz），时钟系统就会自动配置好。